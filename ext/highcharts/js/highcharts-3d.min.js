/*
 Highcharts JS v4.2.1 (2015-12-21)

 3D features for Highcharts JS

 @license: www.highcharts.com/license
*/
!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function i(t,i,e){var s,r,a=i.options.chart.options3d,o=!1
e?(o=i.inverted,e=i.plotWidth/2,i=i.plotHeight/2,s=a.depth/2,r=d(a.depth,1)*d(a.viewDistance,0)):(e=i.plotLeft+i.plotWidth/2,i=i.plotTop+i.plotHeight/2,s=a.depth/2,r=d(a.depth,1)*d(a.viewDistance,0))
var h,p,c,l,u,g,m=[],b=e,z=i,v=s,w=r,e=y*(o?a.beta:-a.beta),a=y*(o?-a.alpha:a.alpha),A=x(e),k=f(e),P=x(a),L=f(a)
return n(t,function(t){h=(o?t.y:t.x)-b,p=(o?t.x:t.y)-z,c=(t.z||0)-v,l=k*h-A*c,u=-A*P*h+L*p-k*P*c,g=A*L*h+P*p+k*L*c,w>0&&w<Number.POSITIVE_INFINITY&&(l*=w/(g+v+w),u*=w/(g+v+w)),l+=b,u+=z,g+=v,m.push({x:o?u:l,y:o?l:u,z:g})}),m}function e(t){return void 0!==t&&null!==t}function s(t){var i,e,s=0
for(i=0;i<t.length;i++)e=(i+1)%t.length,s+=t[i].x*t[e].y-t[e].x*t[i].y
return s/2}function r(t){var i,e=0
for(i=0;i<t.length;i++)e+=t[i].z
return t.length?e/t.length:0}function a(t,i,e,s,r,o,n,h){var p=[]
return o>r&&o-r>u/2+1e-4?(p=p.concat(a(t,i,e,s,r,r+u/2,n,h)),p=p.concat(a(t,i,e,s,r+u/2,o,n,h))):r>o&&r-o>u/2+1e-4?(p=p.concat(a(t,i,e,s,r,r-u/2,n,h)),p=p.concat(a(t,i,e,s,r-u/2,o,n,h))):(p=o-r,p=["C",t+e*f(r)-e*m*p*x(r)+n,i+s*x(r)+s*m*p*f(r)+h,t+e*f(o)+e*m*p*x(o)+n,i+s*x(o)-s*m*p*f(o)+h,t+e*f(o)+n,i+s*x(o)+h]),p}function o(i){if(this.chart.is3d()){var s=this.chart.options.plotOptions.column.grouping
void 0===s||s||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0)
var r=this.options,a=this.options.states
this.borderWidth=r.borderWidth=e(r.edgeWidth)?r.edgeWidth:1,t.each(this.data,function(i){null!==i.y&&(i=i.pointAttr,this.borderColor=t.pick(r.edgeColor,i[""].fill),i[""].stroke=this.borderColor,i.hover.stroke=t.pick(a.hover.edgeColor,this.borderColor),i.select.stroke=t.pick(a.select.edgeColor,this.borderColor))})}i.apply(this,[].slice.call(arguments,1))}var n=t.each,h=t.extend,p=t.inArray,c=t.merge,d=t.pick,l=t.wrap,u=Math.PI,y=u/180,x=Math.sin,f=Math.cos,g=Math.round
t.perspective=i
var m=4*(Math.sqrt(2)-1)/3/(u/2)
t.SVGRenderer.prototype.toLinePath=function(i,e){var s=[]
return t.each(i,function(t){s.push("L",t.x,t.y)}),i.length&&(s[0]="M",e&&s.push("Z")),s},t.SVGRenderer.prototype.cuboid=function(i){var s=this.g(),i=this.cuboidPath(i)
return s.front=this.path(i[0]).attr({zIndex:i[3],"stroke-linejoin":"round"}).add(s),s.top=this.path(i[1]).attr({zIndex:i[4],"stroke-linejoin":"round"}).add(s),s.side=this.path(i[2]).attr({zIndex:i[5],"stroke-linejoin":"round"}).add(s),s.fillSetter=function(i){var e=t.Color(i).brighten(.1).get(),s=t.Color(i).brighten(-.1).get()
return this.front.attr({fill:i}),this.top.attr({fill:e}),this.side.attr({fill:s}),this.color=i,this},s.opacitySetter=function(t){return this.front.attr({opacity:t}),this.top.attr({opacity:t}),this.side.attr({opacity:t}),this},s.attr=function(i){return i.shapeArgs||e(i.x)?(i=this.renderer.cuboidPath(i.shapeArgs||i),this.front.attr({d:i[0],zIndex:i[3]}),this.top.attr({d:i[1],zIndex:i[4]}),this.side.attr({d:i[2],zIndex:i[5]}),this):t.SVGElement.prototype.attr.call(this,i)},s.animate=function(i,s,r){return e(i.x)&&e(i.y)?(i=this.renderer.cuboidPath(i),this.front.attr({zIndex:i[3]}).animate({d:i[0]},s,r),this.top.attr({zIndex:i[4]}).animate({d:i[1]},s,r),this.side.attr({zIndex:i[5]}).animate({d:i[2]},s,r),this.attr({zIndex:-i[6]})):i.opacity?(this.front.animate(i,s,r),this.top.animate(i,s,r),this.side.animate(i,s,r)):t.SVGElement.prototype.animate.call(this,i,s,r),this},s.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},s.attr({zIndex:-i[6]}),s},t.SVGRenderer.prototype.cuboidPath=function(e){function a(t){return u[t]}var o=e.x,n=e.y,h=e.z,p=e.height,c=e.width,d=e.depth,l=t.map,u=[{x:o,y:n,z:h},{x:o+c,y:n,z:h},{x:o+c,y:n+p,z:h},{x:o,y:n+p,z:h},{x:o,y:n+p,z:h+d},{x:o+c,y:n+p,z:h+d},{x:o+c,y:n,z:h+d},{x:o,y:n,z:h+d}],u=i(u,t.charts[this.chartIndex],e.insidePlotArea),h=function(t,i){var e=[],t=l(t,a),i=l(i,a)
return s(t)<0?e=t:s(i)<0&&(e=i),e},e=h([3,2,1,0],[7,6,5,4]),o=[4,5,2,3],n=h([1,6,7,0],o),h=h([1,2,5,6],[0,7,4,3])
return[this.toLinePath(e,!0),this.toLinePath(n,!0),this.toLinePath(h,!0),r(e),r(n),r(h),9e9*r(l(o,a))]},t.SVGRenderer.prototype.arc3d=function(i){function e(t){var i,e=!1,s={}
for(i in t)-1!==p(i,a)&&(s[i]=t[i],delete t[i],e=!0)
return e?s:!1}var s=this.g(),r=s.renderer,a="x,y,r,innerR,start,end".split(","),i=c(i)
return i.alpha*=y,i.beta*=y,s.top=r.path(),s.side1=r.path(),s.side2=r.path(),s.inn=r.path(),s.out=r.path(),s.onAdd=function(){var t=s.parentGroup
s.top.add(s),s.out.add(t),s.inn.add(t),s.side1.add(t),s.side2.add(t)},s.setPaths=function(t){var i=s.renderer.arc3dPath(t),e=100*i.zTop
s.attribs=t,s.top.attr({d:i.top,zIndex:i.zTop}),s.inn.attr({d:i.inn,zIndex:i.zInn}),s.out.attr({d:i.out,zIndex:i.zOut}),s.side1.attr({d:i.side1,zIndex:i.zSide1}),s.side2.attr({d:i.side2,zIndex:i.zSide2}),s.zIndex=e,s.attr({zIndex:e}),t.center&&(s.top.setRadialReference(t.center),delete t.center)},s.setPaths(i),s.fillSetter=function(i){var e=t.Color(i).brighten(-.1).get()
return this.fill=i,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:i}),this},n(["opacity","translateX","translateY","visibility"],function(t){s[t+"Setter"]=function(t,i){s[i]=t,n(["out","inn","side1","side2","top"],function(e){s[e].attr(i,t)})}}),l(s,"attr",function(t,i,r){var a
return"object"==typeof i&&(a=e(i))&&(h(s.attribs,a),s.setPaths(s.attribs)),t.call(this,i,r)}),l(s,"animate",function(t,i,s,r){var a,o,n=this.attribs
return delete i.center,delete i.z,delete i.depth,delete i.alpha,delete i.beta,(s=d(s,this.renderer.globalAnimation))&&("object"!=typeof s&&(s={}),i=c(i),(a=e(i))&&(o=a,s.step=function(t,i){function e(t){return n[t]+(d(o[t],n[t])-n[t])*i.pos}i.elem.setPaths(c(n,{x:e("x"),y:e("y"),r:e("r"),innerR:e("innerR"),start:e("start"),end:e("end")}))})),t.call(this,i,s,r)}),s.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),t.SVGElement.prototype.destroy.call(this)},s.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},s.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},s},t.SVGRenderer.prototype.arc3dPath=function(t){function i(t){return t%=2*u,t>u&&(t=2*u-t),t}var e=t.x,s=t.y,r=t.start,o=t.end-1e-5,n=t.r,h=t.innerR,p=t.depth,c=t.alpha,d=t.beta,l=f(r),y=x(r),t=f(o),g=x(o),m=n*f(d)
n*=f(c)
var b=h*f(d),z=h*f(c),h=p*x(d),v=p*x(c),p=["M",e+m*l,s+n*y],p=p.concat(a(e,s,m,n,r,o,0,0)),p=p.concat(["L",e+b*t,s+z*g]),p=p.concat(a(e,s,b,z,o,r,0,0)),p=p.concat(["Z"]),w=d>0?u/2:0,d=c>0?0:u/2,w=r>-w?r:o>-w?-w:r,A=u-d>o?o:u-d>r?u-d:o,k=2*u-d,c=["M",e+m*f(w),s+n*x(w)],c=c.concat(a(e,s,m,n,w,A,0,0))
return o>k&&k>r?(c=c.concat(["L",e+m*f(A)+h,s+n*x(A)+v]),c=c.concat(a(e,s,m,n,A,k,h,v)),c=c.concat(["L",e+m*f(k),s+n*x(k)]),c=c.concat(a(e,s,m,n,k,o,0,0)),c=c.concat(["L",e+m*f(o)+h,s+n*x(o)+v]),c=c.concat(a(e,s,m,n,o,k,h,v)),c=c.concat(["L",e+m*f(k),s+n*x(k)]),c=c.concat(a(e,s,m,n,k,A,0,0))):o>u-d&&u-d>r&&(c=c.concat(["L",e+m*f(A)+h,s+n*x(A)+v]),c=c.concat(a(e,s,m,n,A,o,h,v)),c=c.concat(["L",e+m*f(o),s+n*x(o)]),c=c.concat(a(e,s,m,n,o,A,0,0))),c=c.concat(["L",e+m*f(A)+h,s+n*x(A)+v]),c=c.concat(a(e,s,m,n,A,w,h,v)),c=c.concat(["Z"]),d=["M",e+b*l,s+z*y],d=d.concat(a(e,s,b,z,r,o,0,0)),d=d.concat(["L",e+b*f(o)+h,s+z*x(o)+v]),d=d.concat(a(e,s,b,z,o,r,h,v)),d=d.concat(["Z"]),l=["M",e+m*l,s+n*y,"L",e+m*l+h,s+n*y+v,"L",e+b*l+h,s+z*y+v,"L",e+b*l,s+z*y,"Z"],e=["M",e+m*t,s+n*g,"L",e+m*t+h,s+n*g+v,"L",e+b*t+h,s+z*g+v,"L",e+b*t,s+z*g,"Z"],g=Math.atan2(v,-h),s=Math.abs(o+g),t=Math.abs(r+g),r=Math.abs((r+o)/2+g),s=i(s),t=i(t),r=i(r),r*=1e5,o=1e5*t,s*=1e5,{top:p,zTop:1e5*u+1,out:c,zOut:Math.max(r,o,s),inn:d,zInn:Math.max(r,o,s),side1:l,zSide1:.99*s,side2:e,zSide2:.99*o}},t.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},t.wrap(t.Chart.prototype,"isInsidePlot",function(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}),t.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},t.wrap(t.Chart.prototype,"init",function(i){var e,s=[].slice.call(arguments,1)
s[0].chart&&s[0].chart.options3d&&s[0].chart.options3d.enabled&&(s[0].chart.options3d.alpha=(s[0].chart.options3d.alpha||0)%360,s[0].chart.options3d.beta=(s[0].chart.options3d.beta||0)%360,e=s[0].plotOptions||{},e=e.pie||{},e.borderColor=t.pick(e.borderColor,void 0)),i.apply(this,s)}),t.wrap(t.Chart.prototype,"setChartSize",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.is3d()){var i=this.inverted,e=this.clipBox,s=this.margin
e[i?"y":"x"]=-(s[3]||0),e[i?"x":"y"]=-(s[0]||0),e[i?"height":"width"]=this.chartWidth+(s[3]||0)+(s[1]||0),e[i?"width":"height"]=this.chartHeight+(s[0]||0)+(s[2]||0)}}),t.wrap(t.Chart.prototype,"redraw",function(t){this.is3d()&&(this.isDirtyBox=!0),t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Chart.prototype,"renderSeries",function(t){var i=this.series.length
if(this.is3d())for(;i--;)t=this.series[i],t.translate(),t.render()
else t.call(this)}),t.Chart.prototype.retrieveStacks=function(i){var e,s=this.series,r={},a=1
return t.each(this.series,function(t){e=d(t.options.stack,i?0:s.length-1-t.index),r[e]?r[e].series.push(t):(r[e]={series:[t],position:a},a++)}),r.totalStacks=a+1,r},t.wrap(t.Axis.prototype,"setOptions",function(i,e){var s
i.call(this,e),this.chart.is3d()&&(s=this.options,s.tickWidth=t.pick(s.tickWidth,0),s.gridLineWidth=t.pick(s.gridLineWidth,1))}),t.wrap(t.Axis.prototype,"render",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this.chart,e=i.renderer,s=i.options.chart.options3d,r=s.frame,a=r.bottom,o=r.back,r=r.side,n=s.depth,h=this.height,p=this.width,c=this.left,d=this.top
this.isZAxis||(this.horiz?(o={x:c,y:d+(i.xAxis[0].opposite?-a.size:h),z:0,width:p,height:a.size,depth:n,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(o):this.bottomFrame=e.cuboid(o).attr({fill:a.color,zIndex:i.yAxis[0].reversed&&s.alpha>0?4:-1}).css({stroke:a.color}).add()):(s={x:c+(i.yAxis[0].opposite?0:-r.size),y:d+(i.xAxis[0].opposite?-a.size:0),z:n,width:p+r.size,height:h+a.size,depth:o.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(s):this.backFrame=e.cuboid(s).attr({fill:o.color,zIndex:-3}).css({stroke:o.color}).add(),i={x:c+(i.yAxis[0].opposite?p:-r.size),y:d+(i.xAxis[0].opposite?-a.size:0),z:0,width:r.size,height:h+a.size,depth:n,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(i):this.sideFrame=e.cuboid(i).attr({fill:r.color,zIndex:-2}).css({stroke:r.color}).add()))}}),t.wrap(t.Axis.prototype,"getPlotLinePath",function(t){var e=t.apply(this,[].slice.call(arguments,1))
if(!this.chart.is3d())return e
if(null===e)return e
var s=this.chart,r=s.options.chart.options3d,s=this.isZAxis?s.plotWidth:r.depth,r=this.opposite
return this.horiz&&(r=!r),e=[this.swapZ({x:e[1],y:e[2],z:r?s:0}),this.swapZ({x:e[1],y:e[2],z:s}),this.swapZ({x:e[4],y:e[5],z:s}),this.swapZ({x:e[4],y:e[5],z:r?0:s})],e=i(e,this.chart,!1),e=this.chart.renderer.toLinePath(e,!1)}),t.wrap(t.Axis.prototype,"getLinePath",function(t){return this.chart.is3d()?[]:t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Axis.prototype,"getPlotBandPath",function(t){if(!this.chart.is3d())return t.apply(this,[].slice.call(arguments,1))
var i=arguments,e=i[1],i=this.getPlotLinePath(i[2])
return(e=this.getPlotLinePath(e))&&i?e.push("L",i[10],i[11],"L",i[7],i[8],"L",i[4],i[5],"L",i[1],i[2]):e=null,e}),t.wrap(t.Tick.prototype,"getMarkPath",function(t){var e=t.apply(this,[].slice.call(arguments,1))
return this.axis.chart.is3d()?(e=[this.axis.swapZ({x:e[1],y:e[2],z:0}),this.axis.swapZ({x:e[4],y:e[5],z:0})],e=i(e,this.axis.chart,!1),e=["M",e[0].x,e[0].y,"L",e[1].x,e[1].y]):e}),t.wrap(t.Tick.prototype,"getLabelPosition",function(t){var e=t.apply(this,[].slice.call(arguments,1))
if(!this.axis.chart.is3d())return e
var s=i([this.axis.swapZ({x:e.x,y:e.y,z:0})],this.axis.chart,!1)[0]
return s.x-=!this.axis.horiz&&this.axis.opposite?this.axis.transA:0,s.old=e,s}),t.wrap(t.Tick.prototype,"handleOverflow",function(t,i){return this.axis.chart.is3d()&&(i=i.old),t.call(this,i)}),t.wrap(t.Axis.prototype,"getTitlePosition",function(t){var e,s,r=this.chart.is3d()
return r&&(s=this.axisTitleMargin,this.axisTitleMargin=0),e=t.apply(this,[].slice.call(arguments,1)),r&&(e=i([this.swapZ({x:e.x,y:e.y,z:0})],this.chart,!1)[0],e[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*s,this.axisTitleMargin=s),e}),t.wrap(t.Axis.prototype,"drawCrosshair",function(t){var i=arguments
this.chart.is3d()&&i[2]&&(i[2]={plotX:i[2].plotXold||i[2].plotX,plotY:i[2].plotYold||i[2].plotY}),t.apply(this,[].slice.call(i,1))}),t.Axis.prototype.swapZ=function(t,i){if(this.isZAxis){var e=i?0:this.chart.plotLeft,s=this.chart
return{x:e+(s.yAxis[0].opposite?t.z:s.xAxis[0].width-t.z),y:t.y,z:t.x-e}}return t}
var b=t.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)}
t.extend(b.prototype,t.Axis.prototype),t.extend(b.prototype,{setOptions:function(i){i=t.merge({offset:0,lineWidth:0},i),t.Axis.prototype.setOptions.call(this,i),this.coll="zAxis"},setAxisSize:function(){t.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var i=this,e=i.chart
i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.ignoreMinPadding=i.ignoreMaxPadding=null,i.buildStacks&&i.buildStacks(),t.each(i.series,function(t){(t.visible||!e.options.chart.ignoreHiddenSeries)&&(i.hasVisibleSeries=!0,t=t.zData,t.length&&(i.dataMin=Math.min(d(i.dataMin,t[0]),Math.min.apply(null,t)),i.dataMax=Math.max(d(i.dataMax,t[0]),Math.max.apply(null,t))))})}}),t.wrap(t.Chart.prototype,"getAxes",function(i){var e=this,s=this.options,s=s.zAxis=t.splat(s.zAxis||{})
i.call(this),e.is3d()&&(this.zAxis=[],t.each(s,function(t,i){t.index=i,t.isX=!0,new b(e,t).setScale()}))}),t.wrap(t.seriesTypes.column.prototype,"translate",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var s=this.chart,r=this.options,a=r.depth||25,o=(r.stacking?r.stack||0:this._i)*(a+(r.groupZPadding||1))
r.grouping!==!1&&(o=0),o+=r.groupZPadding||1,t.each(this.data,function(t){if(null!==t.y){var e=t.shapeArgs,r=t.tooltipPos
t.shapeType="cuboid",e.z=o,e.depth=a,e.insidePlotArea=!0,r=i([{x:r[0],y:r[1],z:o}],s,!1)[0],t.tooltipPos=[r.x,r.y]}}),this.z=o}}),t.wrap(t.seriesTypes.column.prototype,"animate",function(i){if(this.chart.is3d()){var e=arguments[1],s=this.yAxis,r=this,a=this.yAxis.reversed
t.svg&&(e?t.each(r.data,function(t){null===t.y||(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,a)||(t.shapeArgs.y=t.stackY?t.plotY+s.translate(t.stackY):t.plotY+(t.negative?-t.height:t.height))}):(t.each(r.data,function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,r.options.animation))}),this.drawDataLabels(),r.animate=null))}else i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.column.prototype,"init",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this.options,e=i.grouping,s=i.stacking,r=d(this.yAxis.options.reversedStacks,!0),a=0
if(void 0===e||e){for(e=this.chart.retrieveStacks(s),a=i.stack||0,s=0;s<e[a].series.length&&e[a].series[s]!==this;s++);a=10*(e.totalStacks-e[a].position)+(r?s:-s),this.xAxis.reversed||(a=10*e.totalStacks-a)}i.zIndex=a}}),t.wrap(t.Series.prototype,"alignDataLabel",function(t){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var e=arguments[4],s={x:e.x,y:e.y,z:this.z},s=i([s],this.chart,!0)[0]
e.x=s.x,e.y=s.y}t.apply(this,[].slice.call(arguments,1))}),t.seriesTypes.columnrange&&t.wrap(t.seriesTypes.columnrange.prototype,"drawPoints",o),t.wrap(t.seriesTypes.column.prototype,"drawPoints",o),t.wrap(t.seriesTypes.pie.prototype,"translate",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this,e=i.options,s=e.depth||0,r=i.chart.options.chart.options3d,a=r.alpha,o=r.beta,h=e.stacking?(e.stack||0)*s:i._i*s
h+=s/2,e.grouping!==!1&&(h=0),n(i.data,function(t){var r=t.shapeArgs
t.shapeType="arc3d",r.z=h,r.depth=.75*s,r.alpha=a,r.beta=o,r.center=i.center,r=(r.end+r.start)/2,t.slicedTranslation={translateX:g(f(r)*e.slicedOffset*f(a*y)),translateY:g(x(r)*e.slicedOffset*f(a*y))}})}}),t.wrap(t.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(t){var i=arguments
return this.series.chart.is3d()?[]:t.call(this,i[1])}),t.wrap(t.seriesTypes.pie.prototype,"drawPoints",function(i){var e=this.options,s=e.states
this.chart.is3d()&&(this.borderWidth=e.borderWidth=e.edgeWidth||1,this.borderColor=e.edgeColor=t.pick(e.edgeColor,e.borderColor,void 0),s.hover.borderColor=t.pick(s.hover.edgeColor,this.borderColor),s.hover.borderWidth=t.pick(s.hover.edgeWidth,this.borderWidth),s.select.borderColor=t.pick(s.select.edgeColor,this.borderColor),s.select.borderWidth=t.pick(s.select.edgeWidth,this.borderWidth),n(this.data,function(t){var i=t.pointAttr
i[""].stroke=t.series.borderColor||t.color,i[""]["stroke-width"]=t.series.borderWidth,i.hover.stroke=s.hover.borderColor,i.hover["stroke-width"]=s.hover.borderWidth,i.select.stroke=s.select.borderColor,i.select["stroke-width"]=s.select.borderWidth})),i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&n(this.points,function(t){var i=t.graphic
i&&i[t.y?"show":"hide"]()})}),t.wrap(t.seriesTypes.pie.prototype,"drawDataLabels",function(t){if(this.chart.is3d()){var i=this.chart.options.chart.options3d
n(this.data,function(t){var e=t.shapeArgs,s=e.r,r=(e.beta||i.beta)*y,a=(e.start+e.end)/2,o=t.labelPos,h=-s*(1-f((e.alpha||i.alpha)*y))*x(a),p=s*(f(r)-1)*f(a)
n([0,2,4],function(t){o[t]+=p,o[t+1]+=h})})}t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),t.wrap(t.seriesTypes.pie.prototype,"animate",function(i){if(this.chart.is3d()){var e=arguments[1],s=this.options.animation,r=this.center,a=this.group,o=this.markerGroup
t.svg&&(s===!0&&(s={}),e?(a.oldtranslateX=a.translateX,a.oldtranslateY=a.translateY,e={translateX:r[0],translateY:r[1],scaleX:.001,scaleY:.001},a.attr(e),o&&(o.attrSetters=a.attrSetters,o.attr(e))):(e={translateX:a.oldtranslateX,translateY:a.oldtranslateY,scaleX:1,scaleY:1},a.animate(e,s),o&&o.animate(e,s),this.animate=null))}else i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.scatter.prototype,"translate",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var s,r,a,o=this.chart,n=t.pick(this.zAxis,o.options.zAxis[0]),h=[]
for(a=0;a<this.data.length;a++)s=this.data[a],r=n.isLog&&n.val2lin?n.val2lin(s.z):s.z,s.plotZ=n.translate(r),s.isInside=s.isInside?r>=n.min&&r<=n.max:!1,h.push({x:s.plotX,y:s.plotY,z:s.plotZ})
for(o=i(h,o,!0),a=0;a<this.data.length;a++)s=this.data[a],n=o[a],s.plotXold=s.plotX,s.plotYold=s.plotY,s.plotX=n.x,s.plotY=n.y,s.plotZ=n.z}}),t.wrap(t.seriesTypes.scatter.prototype,"init",function(t,i,e){return i.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"]),t=t.apply(this,[i,e]),this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"),t}),t.VMLRenderer&&(t.setOptions({animate:!1}),t.VMLRenderer.prototype.cuboid=t.SVGRenderer.prototype.cuboid,t.VMLRenderer.prototype.cuboidPath=t.SVGRenderer.prototype.cuboidPath,t.VMLRenderer.prototype.toLinePath=t.SVGRenderer.prototype.toLinePath,t.VMLRenderer.prototype.createElement3D=t.SVGRenderer.prototype.createElement3D,t.VMLRenderer.prototype.arc3d=function(i){return i=t.SVGRenderer.prototype.arc3d.call(this,i),i.css({zIndex:i.zIndex}),i},t.VMLRenderer.prototype.arc3dPath=t.SVGRenderer.prototype.arc3dPath,t.wrap(t.Axis.prototype,"render",function(t){t.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))})
