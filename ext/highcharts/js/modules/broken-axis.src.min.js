/**
 * Highcharts JS v4.2.1 (2015-12-21)
 * Highcharts Broken Axis module
 * 
 * License: www.highcharts.com/license
 */
!function(t){return"object"==typeof module&&module.exports?void(module.exports=t):void t(Highcharts)}(function(t){"use strict"
function i(){return Array.prototype.slice.call(arguments,1)}function r(t){t.apply(this),this.drawBreaks()}var o=t.pick,e=t.wrap,s=t.each,n=t.extend,a=t.fireEvent,f=t.Axis,l=t.Series
n(f.prototype,{isInBreak:function(t,i){var r,o=t.repeat||1/0,e=t.from,s=t.to-t.from,n=i>=e?(i-e)%o:o-(e-i)%o
return r=t.inclusive?s>=n:s>n&&0!==n},isInAnyBreak:function(t,i){var r,e,s,n=this.options.breaks,a=n&&n.length
if(a){for(;a--;)this.isInBreak(n[a],t)&&(r=!0,e||(e=o(n[a].showPoints,this.isXAxis?!1:!0)))
s=r&&i?r&&!e:r}return s}}),e(f.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var i,r=this,o=this.tickPositions,e=this.tickPositions.info,s=[]
for(i=0;i<o.length;i++)r.isInAnyBreak(o[i])||s.push(o[i])
this.tickPositions=s,this.tickPositions.info=e}}),e(f.prototype,"init",function(t,i,r){if(r.breaks&&r.breaks.length&&(r.ordinal=!1),t.call(this,i,r),this.options.breaks){var o=this
o.doPostTranslate=!0,this.val2lin=function(t){var i,r,e=t
for(r=0;r<o.breakArray.length;r++)if(i=o.breakArray[r],i.to<=t)e-=i.len
else{if(i.from>=t)break
if(o.isInBreak(i,t)){e-=t-i.from
break}}return e},this.lin2val=function(t){var i,r,e=t
for(r=0;r<o.breakArray.length&&(i=o.breakArray[r],!(i.from>=e));r++)i.to<e?e+=i.len:o.isInBreak(i,e)&&(e+=i.len)
return e},this.setExtremes=function(t,i,r,o,e){for(;this.isInAnyBreak(t);)t-=this.closestPointRange
for(;this.isInAnyBreak(i);)i-=this.closestPointRange
f.prototype.setExtremes.call(this,t,i,r,o,e)},this.setAxisTranslation=function(t){f.prototype.setAxisTranslation.call(this,t)
var i,r,e,s,n,l,p=o.options.breaks,u=[],h=[],c=0,k=o.userMin||o.min,m=o.userMax||o.max
for(n in p)e=p[n],r=e.repeat||1/0,o.isInBreak(e,k)&&(k+=e.to%r-k%r),o.isInBreak(e,m)&&(m-=m%r-e.from%r)
for(n in p){for(e=p[n],s=e.from,r=e.repeat||1/0;s-r>k;)s-=r
for(;k>s;)s+=r
for(l=s;m>l;l+=r)u.push({value:l,move:"in"}),u.push({value:l+(e.to-e.from),move:"out",size:e.breakSize})}u.sort(function(t,i){var r
return r=t.value===i.value?("in"===t.move?0:1)-("in"===i.move?0:1):t.value-i.value}),i=0,s=k
for(n in u)e=u[n],i+="in"===e.move?1:-1,1===i&&"in"===e.move&&(s=e.value),0===i&&(h.push({from:s,to:e.value,len:e.value-s-(e.size||0)}),c+=e.value-s-(e.size||0))
o.breakArray=h,a(o,"afterBreaks"),o.transA*=(m-o.min)/(m-k-c),o.min=k,o.max=m}}}),e(l.prototype,"generatePoints",function(t){t.apply(this,i(arguments))
var r,o,e=this,s=e.xAxis,n=e.yAxis,a=e.points,f=a.length,l=e.options.connectNulls
if(s&&n&&(s.options.breaks||n.options.breaks))for(;f--;)r=a[f],o=null===r.y&&l===!1,o||!s.isInAnyBreak(r.x,!0)&&!n.isInAnyBreak(r.y,!0)||(a.splice(f,1),this.data[f]&&this.data[f].destroyElements())}),t.Series.prototype.drawBreaks=function(){var t,i,r,e,n,f=this,l=f.points,p="Axis"
s(["y","x"],function(u){t=f[u+p],i=t.breakArray||[],r=t.isXAxis?t.min:o(f.options.threshold,t.min),s(l,function(f){n=o(f["stack"+u.toUpperCase()],f[u]),s(i,function(i){e=!1,r<i.from&&n>i.to||r>i.from&&n<i.from?e="pointBreak":(r<i.from&&n>i.from&&n<i.to||r>i.from&&n>i.to&&n<i.from)&&(e="pointInBreak"),e&&a(t,e,{point:f,brk:i})})})})},e(t.seriesTypes.column.prototype,"drawPoints",r),e(t.Series.prototype,"drawPoints",r)})
